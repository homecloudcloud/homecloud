"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.templateExtractor = exports.extractTemplateKeys = void 0;
const file_utils_1 = require("../../utils/file.utils");
const extract_keys_1 = require("../utils/extract-keys");
const comments_extractor_1 = require("./comments.extractor");
const directive_extractor_1 = require("./directive.extractor");
const pipe_extractor_1 = require("./pipe.extractor");
const structural_directive_extractor_1 = require("./structural-directive.extractor");
function extractTemplateKeys(config) {
    return (0, extract_keys_1.extractKeys)(config, 'html', templateExtractor);
}
exports.extractTemplateKeys = extractTemplateKeys;
function templateExtractor(config) {
    const { file, scopeToKeys } = config;
    let content = config.content || (0, file_utils_1.readFile)(file);
    if (!content.includes('transloco'))
        return scopeToKeys;
    const resolvedConfig = Object.assign(Object.assign({}, config), { content });
    (0, pipe_extractor_1.pipeExtractor)(resolvedConfig);
    (0, comments_extractor_1.templateCommentsExtractor)(resolvedConfig);
    (0, directive_extractor_1.directiveExtractor)(resolvedConfig);
    (0, structural_directive_extractor_1.structuralDirectiveExtractor)(resolvedConfig);
    return scopeToKeys;
}
exports.templateExtractor = templateExtractor;
//# sourceMappingURL=index.js.map