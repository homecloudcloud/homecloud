"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.extractKeys = void 0;
const init_extraction_1 = require("../../utils/init-extraction");
const logger_1 = require("../../utils/logger");
const normalize_glob_path_1 = require("../../utils/normalize-glob-path");
function extractKeys({ input, scopes, defaultValue, files }, fileType, extractor) {
    let { scopeToKeys } = (0, init_extraction_1.initExtraction)();
    const fileList = files || input.map((path) => (0, normalize_glob_path_1.normalizedGlob)(`${path}/**/*.${fileType}`)).flat();
    for (const file of fileList) {
        (0, logger_1.devlog)('extraction', 'Extracting keys', { file, fileType });
        scopeToKeys = extractor({ file, defaultValue, scopes, scopeToKeys });
    }
    return { scopeToKeys, fileCount: fileList.length };
}
exports.extractKeys = extractKeys;
//# sourceMappingURL=extract-keys.js.map