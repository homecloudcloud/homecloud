"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.runPrettier = void 0;
const fs_1 = require("fs");
const file_utils_1 = require("../../utils/file.utils");
function runPrettier(filePaths) {
    try {
        const prettier = require('prettier');
        const options = prettier.resolveConfig.sync(filePaths[0]);
        if (options) {
            for (const filePath of filePaths) {
                const formatted = prettier.format((0, file_utils_1.readFile)(filePath), Object.assign(Object.assign({}, options), { filepath: filePath }));
                (0, fs_1.writeFileSync)(filePath, formatted);
            }
        }
    }
    catch (e) {
        if (e.code !== 'MODULE_NOT_FOUND') {
            console.warn('Failed to run prettier', e.message);
        }
    }
}
exports.runPrettier = runPrettier;
//# sourceMappingURL=run-prettier.js.map