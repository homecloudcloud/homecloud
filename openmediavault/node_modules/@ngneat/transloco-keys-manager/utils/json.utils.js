"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.jsoncParser = void 0;
const jsonc_parser_1 = require("jsonc-parser");
function jsoncParser(filepath, content) {
    const errors = [];
    const result = (0, jsonc_parser_1.parse)(content, errors, {
        allowTrailingComma: true,
    });
    if (errors.length > 0) {
        const { error, offset } = errors[0];
        throw new Error(`Failed to parse "${filepath}" as JSON AST Object. ${(0, jsonc_parser_1.printParseErrorCode)(error)} at location: ${offset}.`);
    }
    return result;
}
exports.jsoncParser = jsoncParser;
//# sourceMappingURL=json.utils.js.map